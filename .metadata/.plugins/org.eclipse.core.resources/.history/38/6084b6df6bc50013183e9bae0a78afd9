package jxau.sms.qing.login.service;

import java.util.HashMap;
import java.util.List;
import java.util.Map;

import javax.annotation.Resource;

import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.stereotype.Component;
import org.springframework.stereotype.Service;



import org.springframework.context.support.ClassPathXmlApplicationContext;
import org.springframework.stereotype.Component;
import org.springframework.stereotype.Service;

import org.springframework.stereotype.Service;
import jxau.sms.commom.vo.PageVo;
import jxau.sms.globalService.GlobalServiceInterface;
import jxau.sms.globaldao.Dao;
import jxau.sms.qing.po.Student;

@Service("loginService")
public class LoginService implements GlobalServiceInterface{
	private Dao dao;
	
	@Resource(name="dao")
	public void setDao(Dao dao) {
		this.dao = dao;
	}

 	public boolean whichUser(String userId,String password){

		if(userId.length()==8){
			return this.selectStudent(userId,password);
		} else if(userId.length()==4){
			return this.selectTeacher(userId, password);
		} else return false;
	}
	
	public boolean selectStudent(String studentNo,String password){
		Student stu;
		HashMap<String, Object> student = new HashMap<String,Object>();
		student.put("studentNo", studentNo);
		student.put("stuPassword", password);
        stu = dao.selectOne("jxau.sms.qing.login.dao.selectStudent",student);
        if(stu != null){
        	return true;
        } else {
        	return false;
        }
	}
	
	public boolean selectTeacher(String teacherNo,String password){
		int count;
		HashMap<String, Object> student = new HashMap<String,Object>();
		student.put("teacherNo", teacherNo);
		student.put("tecPassword", password);
        count = dao.selectOne("jxau.sms.qing.login.dao.selectTeacher",student);
        if(count == 1){
        	return true;
        } else {
        	return false;
        }
	}
	
}
